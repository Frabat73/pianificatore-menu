<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pianificatore Menu</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: system-ui, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        const MealPlanner = () => {
            const [activeTab, setActiveTab] = useState('planner');
            const [targets, setTargets] = useState({
                calories: 1250,
                carbsPerc: 50,
                fatsPerc: 30,
                proteinsPerc: 20
            });
            
            const [foods] = useState([
                { id: 1, name: 'Pane integrale', calories: 247, carbs: 41.3, fats: 4.2, proteins: 13.2 },
                { id: 2, name: 'Pollo petto', calories: 165, carbs: 0, fats: 3.6, proteins: 31 },
                { id: 3, name: 'Riso basmati', calories: 365, carbs: 78, fats: 0.9, proteins: 8.1 },
                { id: 4, name: 'Broccoli', calories: 34, carbs: 6.6, fats: 0.4, proteins: 2.8 },
                { id: 5, name: 'Olio oliva', calories: 884, carbs: 0, fats: 100, proteins: 0 }
            ]);

            return (
                <div className="min-h-screen bg-gray-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <h1 className="text-3xl font-bold text-center mb-6 text-gray-800">
                            üçΩÔ∏è Pianificatore Menu Settimanale
                        </h1>
                        
                        {/* Tabs */}
                        <div className="flex mb-6 bg-white rounded-lg shadow-sm">
                            <button
                                onClick={() => setActiveTab('planner')}
                                className={`flex-1 py-3 px-4 text-center font-medium rounded-l-lg ${
                                    activeTab === 'planner' 
                                        ? 'bg-blue-500 text-white' 
                                        : 'bg-white text-gray-700 hover:bg-gray-50'
                                }`}
                            >
                                üìä Pianificatore
                            </button>
                            <button
                                onClick={() => setActiveTab('database')}
                                className={`flex-1 py-3 px-4 text-center font-medium rounded-r-lg ${
                                    activeTab === 'database' 
                                        ? 'bg-blue-500 text-white' 
                                        : 'bg-white text-gray-700 hover:bg-gray-50'
                                }`}
                            >
                                üóÉÔ∏è Database Alimenti
                            </button>
                        </div>

                        {/* Target Section */}
                        <div className="bg-white rounded-lg shadow-sm p-6 mb-6">
                            <h2 className="text-xl font-semibold mb-4">üéØ Target Giornaliero</h2>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium mb-1">Calorie Target</label>
                                    <input
                                        type="number"
                                        value={targets.calories}
                                        onChange={(e) => setTargets(prev => ({ ...prev, calories: parseInt(e.target.value) || 0 }))}
                                        className="w-full p-3 border rounded-md text-lg"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <div className="text-sm">
                                        <strong>Carboidrati:</strong> {Math.round((targets.calories * targets.carbsPerc / 100) / 4)}g ({targets.carbsPerc}%)
                                    </div>
                                    <div className="text-sm">
                                        <strong>Grassi:</strong> {Math.round((targets.calories * targets.fatsPerc / 100) / 9)}g ({targets.fatsPerc}%)
                                    </div>
                                    <div className="text-sm">
                                        <strong>Proteine:</strong> {Math.round((targets.calories * targets.proteinsPerc / 100) / 4)}g ({targets.proteinsPerc}%)
                                    </div>
                                </div>
                            </div>
                        </div>

                        {activeTab === 'planner' && (
                            <div className="space-y-4">
                                {['Luned√¨', 'Marted√¨', 'Mercoled√¨', 'Gioved√¨', 'Venerd√¨'].map(day => (
                                    <div key={day} className="bg-white rounded-lg shadow-sm p-6">
                                        <h3 className="text-lg font-semibold mb-4">üìÖ {day}</h3>
                                        
                                        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                            {['üåÖ Colazione', 'üçé Spuntino', 'üçΩÔ∏è Pranzo', 'üåô Cena'].map(meal => (
                                                <div key={meal} className="border rounded-lg p-3">
                                                    <h4 className="font-medium mb-2">{meal}</h4>
                                                    <div className="text-sm text-gray-500 mb-2">
                                                        Trascina qui gli alimenti
                                                    </div>
                                                    <div className="min-h-20 bg-gray-50 rounded border-2 border-dashed border-gray-200 p-2">
                                                        {/* Area per gli alimenti */}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                        
                                        {/* Totali giornalieri */}
                                        <div className="bg-blue-50 p-3 rounded-lg mt-4">
                                            <div className="text-sm">
                                                <strong>Totale giorno:</strong> 0 cal | Carb: 0g | Grassi: 0g | Proteine: 0g
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {activeTab === 'database' && (
                            <div className="bg-white rounded-lg shadow-sm p-6">
                                <h2 className="text-xl font-semibold mb-4">üóÉÔ∏è Database Alimenti</h2>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    {foods.map(food => (
                                        <div key={food.id} className="border rounded-lg p-4 hover:shadow-md transition-shadow">
                                            <h3 className="font-semibold text-lg mb-2">{food.name}</h3>
                                            <div className="text-sm space-y-1">
                                                <div><strong>Calorie:</strong> {food.calories}/100g</div>
                                                <div><strong>Carboidrati:</strong> {food.carbs}g</div>
                                                <div><strong>Grassi:</strong> {food.fats}g</div>
                                                <div><strong>Proteine:</strong> {food.proteins}g</div>
                                            </div>
                                            <button className="mt-3 w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">
                                                ‚ûï Aggiungi al pasto
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                        
                        {/* Footer */}
                        <div className="text-center mt-8 text-gray-500 text-sm">
                            <p>‚ú® Pianificatore Menu Settimanale - Test Version</p>
                            <p>Funziona! üéâ</p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<MealPlanner />, document.getElementById('root'));
    </script>
</body>
</html>
